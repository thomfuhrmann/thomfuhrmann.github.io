System.register(["jimu-core","jimu-arcgis","esri/Basemap","esri/request","esri/layers/BaseTileLayer","esri/widgets/BasemapGallery"],(function(e,t){var r={},a={},s={},i={},n={},o={};return{setters:[function(e){r.React=e.React},function(e){a.JimuMapViewComponent=e.JimuMapViewComponent},function(e){s.default=e.default},function(e){i.default=e.default},function(e){n.default=e.default},function(e){o.default=e.default}],execute:function(){e((()=>{var e={3673:e=>{"use strict";e.exports=s},5188:e=>{"use strict";e.exports=n},8831:e=>{"use strict";e.exports=i},4946:e=>{"use strict";e.exports=o},6826:e=>{"use strict";e.exports=a},8891:e=>{"use strict";e.exports=r}},t={};function u(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,u),s.exports}u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="";var l={};return u.p=window.jimuConfig.baseUrl,(()=>{"use strict";u.r(l),u.d(l,{default:()=>p});var e=u(8891),t=u(6826),r=u(3673),a=u(8831),s=u(5188),i=u(4946);const{useState:n,useRef:o,useEffect:c}=e.React,d=s.default.createSubclass({properties:{urlTemplate:null},getTileUrl:function(e,t,r){const a=e.toString().padStart(2,0);let s=t.toString().padStart(9,0),i=r.toString().padStart(9,0);return s=s.substr(0,3)+"/"+s.substr(3,3)+"/"+s.substr(6,3),i=i.substr(0,3)+"/"+i.substr(3,3)+"/"+i.substr(6,3),this.urlTemplate.replace(/\{z\}/g,a).replace(/\{x\}/g,i).replace(/\{y\}/g,s)},fetchTile:function(e,t,r,s){const i=this.getTileUrl(e,t,r);return(0,a.default)(i,{responseType:"image"}).then(function(e){const t=e.data,r=this.tileInfo.size[0],a=this.tileInfo.size[0],s=document.createElement("canvas"),i=s.getContext("2d");s.width=r,s.height=a,i.drawImage(t,0,0,r,a);const n=i.getImageData(0,0,s.width,s.height);return i.putImageData(n,0,0),s}.bind(this))}}),p=a=>{var s;const u=o(null),[l,p]=n(null),[f,g]=n(null);return c((()=>{if(l&&!f){const e=new d({urlTemplate:"https://maps.bev.gv.at/tiles/{z}/{x}/{y}.png",title:"BEV-Topografie"}),t=new r.default({baseLayers:[e],title:"BEV Topografie",id:"basemap",thumbnailUrl:"https://gis.geosphere.at/portal/sharing/rest/content/items/1a94736328a1458abe435d23508f1822/data"}),a=new r.default({portalItem:{id:"df7d6cc9be754db8970614d2ee661f57",portal:{url:"https://gis.geosphere.at/portal"}}}),s=new r.default({portalItem:{id:"5f6efd84434842fb9dcdcf6b9116dcd9",portal:{url:"https://gis.geosphere.at/portal"}}}),n=document.createElement("div");u.current.append(n),g(new i.default({container:n,view:l,source:[a,t,s]}))}return()=>{f&&f.destroy()}}),[l]),e.React.createElement("div",{className:"widget-basemap-widget"},e.React.createElement(t.JimuMapViewComponent,{useMapWidgetId:null===(s=a.useMapWidgetIds)||void 0===s?void 0:s[0],onActiveViewChange:e=>{p(e?e.view:null)}}),e.React.createElement("div",{ref:u}))}})(),l})())}}}));